<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cognito Dashboard</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/static/styles/assets/bootstrap/css/bootstrap.min.css">
  <link href="{{ url_for('static', filename='styles/fras-theme.css') }}" rel="stylesheet" type="text/css" />
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">
        <h3 style="color: var(--accent-green); margin: 0; font-weight: 700; letter-spacing: 2px;">Cognito</h3>
      </a>
      <div style="color: grey;">
        <span>Dashboard</span> &nbsp;&nbsp; <span>Reports</span> &nbsp;&nbsp; <span>Settings</span>
      </div>
      <div style="display: flex; align-items: center; gap: 10px;">
        <i class="fas fa-user-circle fa-2x" style="color: #666;"></i>
        <span style="color: #666;">Admin</span>
      </div>
    </div>
  </nav>

  <div class="container mt-5">
    <h2 class="mb-4">Dashboard Overview</h2>

    <!-- 3 Card Grid -->
    <div class="row features4">
      <!-- Take Attendance Card -->
      <div class="col-md-4 mb-4">
        <div class="item-wrapper">
          <i class="fas fa-camera fa-3x" style="color: var(--accent-green);"></i>
          <h4 class="mb-2">Take Attendance</h4>
          <p style="color: #888; font-size: 0.9rem;">Face recognition active</p>
          <a href="/home.html" class="btn btn-primary">Start Camera</a>
        </div>
      </div>

      <!-- Add Students Card -->
      <div class="col-md-4 mb-4">
        <div class="item-wrapper">
          <div class="item-img">
            <i class="fas fa-user-plus fa-3x" style="color: #fff;"></i>
          </div>
          <h4 class="mb-2">Add Students</h4>
          <p style="color: #888; font-size: 0.9rem;">Scan faces or import lists</p>
          <a href="/admin/add_user" class="btn btn-primary"
            style="background: transparent; border-color: #666; color: white;">New Enrollment</a>
        </div>
      </div>

      <!-- Attendance Record Card -->
      <div class="col-md-4 mb-4">
        <div class="item-wrapper">
          <div class="item-img">
            <i class="fas fa-list fa-3x" style="color: #fff;"></i>
          </div>
          <h4 class="mb-2">Attendance Record</h4>
          <p style="color: #888; font-size: 0.9rem;">Review daily and monthly data</p>
          <a href="/admin/admin_attendance_list" class="btn btn-primary"
            style="background: transparent; border-color: #666; color: white;">View Logs</a>
        </div>
      </div>
    </div>

    <!-- Students Table Section -->
    <div class="mt-5">
      <h3 class="mb-4">Students Enrolled</h3>

      {% if data %}
      <div class="row">
        {% for student in data %}
        <div class="col-md-12 mb-2">
          <!-- Simulated Table Row using Flexbox/Grid or nice Cards -->
          <div
            style="display: flex; align-items: center; background: var(--bg-card); padding: 15px; border-radius: 10px; border: 1px solid #333;">
            <img src="{{ url_for('static', filename='Files/Images/'+ student[0]['id']+'.jpg') }}"
              style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; border: 2px solid var(--accent-green); margin-right: 20px;">

            <div style="flex: 1;">
              <h5 style="margin: 0;">{{ student[0]['name'] }}</h5>
              <span style="color: #666; font-size: 0.9rem;">ID: {{ student[0]['id'] }}</span>
            </div>

            <div style="flex: 1; color: #aaa;">
              {{ student[0]['major'] }}
            </div>

            <div style="flex: 2; align-items: center; display: flex;">
              <div
                style="width: 100%; background: #333; height: 8px; border-radius: 4px; margin-right: 10px; position: relative;">
                <div
                  style="width: 75%; background: var(--accent-green); height: 100%; border-radius: 4px; box-shadow: 0 0 10px var(--accent-green);">
                </div>
              </div>
              <span style="color: white; font-weight: bold;">{{ student[0].get('total_attendance', 0) }}</span>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <p style="color: #666;">No students enrolled yet.</p>
      {% endif %}

    </div>
  </div>

  <script src="/static/styles/assets/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

</html>